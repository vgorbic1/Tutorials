## Cookies
A cookie is essentially a name-value pair. For example, the name of the cookie is *jsessionid*, and its value is *D1Fl5245171203E8670487F020544490*. This is a typical value for the cookie that's generated by the servlet API to keep track of sessions. However, you can create your own cookies to store any type of string data.

Once you create a cookie, you include it in the server's response to the browser. Then, the browser stores the cookie on the client machine, and sends it back to the server with all subsequent requests. Once you have stored a cookie on a browser's PC, you can use it to make your web application work better for the user. For instance, you can use cookies to verify that users have registered before so they don't have to register again. You can use them to customize pages that display information that's specific to the users. And you can use them to focus advertising that is likely to appeal to the users.

Browsers generally accept only 20 cookies from each site and 300 cookies total. In addition, they can limit each cookie to 4 kilobytes. A cookie can be associated with one or more subdomain names.

Cookie object, you can use its methods to set its parameters and to get its name and value. Then, you can use the addCookie method of the response object to add that cookie to a browser's PC. And you can use the getCookies method of the request object to get an array of all the cookies on the browser's PC.

#### Code that creates a cookie and sets it in a response
```java
Cookie c = new Cookie("useridCookie", userid);
c.setMaxAge(60*60*24*365*2); // set age to 2 years
c.setPath("/"); // allow access by entire app
response.addCookie(c);
```
#### Code that gets a cookie value from a request
```java
Cookie[] cookies = request.getCookies();
String cookieName = "useridCookie";
String cookieValue = "";
for (Cookie cookie: cookies) {
  if (cookieName.equals(cookie.getName()) {
    cookieValue = cookie.getValue();
  }
}
```
#### JSP code that displays the names and values for all cookies
```html
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<table>
  <tr>
    <th>Name</th>
    <th>Value</th>
  </tr>
<c:forEach var="c" items="${cookie}">
  <tr>
    <td>${c.value.name}</td>
    <td>${c.value.value}</td>
  </tr>
</c:forEach>
</table>
```
#### Servlet code that deletes all persistent cookies
```java
Cookie[] cookies = request.getCookies();
for (Cookie cookie : cookies) {
  cookie.setMaxAge(O); // delete the cookie
  cookie.setPath("/"); //allow the download application to access it
  response.addCookie(cookie);
}
```
#### JSP code that displays the value for a cookie named emailCookie
```html
<p>Email cookie value: ${cookie.emai1Cookie.value}</p>
```
#### Using utility class
A utility class that gets the value of a cookie:
```java
package murach.util;
import javax.servlet.http.*;
public class CookieUtil {
  public static String getCookieValue(Cookie[] cookies, String cookieName) {
    String cookieValue = "";
    if (cookies != null) {
      for (Cookie cookie: cookies) {
        if (cookieName.equals(cookie.getName())) {
          cookieValue = cookie.getValue();
        }
      }
    }
    return cookieValue;
  }
}
```
Code that uses the CookieUtil class to get the value of a cookie:
```java
Cookie[] cookies = request.getCookies();
String emailAddress = CookieUtil.getCookieValue(cookies, "emailCookie");
```
